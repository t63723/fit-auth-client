import{s as A,n as b,o as v}from"../chunks/scheduler.BvLojk_z.js";import{S as C,i as x,e as T,b as f,d as c,c as m,s as w,f as S,g as d,h,j as y,k as W,l as N,m as D,n as E,o as M}from"../chunks/index.Ctsj23fH.js";function O(p){let e,l="Telegram.WebApp Data:",s,t,n=JSON.stringify(p[1],null,2)+"",a,u,i,g="Send Auth Data",_,k;return{c(){e=m("h2"),e.textContent=l,s=w(),t=m("pre"),a=S(n),u=w(),i=m("button"),i.textContent=g},l(o){e=d(o,"H2",{"data-svelte-h":!0}),h(e)!=="svelte-giequq"&&(e.textContent=l),s=y(o),t=d(o,"PRE",{});var r=W(t);a=N(r,n),r.forEach(c),u=y(o),i=d(o,"BUTTON",{"data-svelte-h":!0}),h(i)!=="svelte-1uv83mc"&&(i.textContent=g)},m(o,r){f(o,e,r),f(o,s,r),f(o,t,r),D(t,a),f(o,u,r),f(o,i,r),_||(k=E(i,"click",p[2]),_=!0)},p(o,r){r&2&&n!==(n=JSON.stringify(o[1],null,2)+"")&&M(a,n)},d(o){o&&(c(e),c(s),c(t),c(u),c(i)),_=!1,k()}}}function P(p){let e,l=`Telegram.WebApp not found. Make sure this script is running within a
        Telegram Mini App.`;return{c(){e=m("p"),e.textContent=l},l(s){e=d(s,"P",{"data-svelte-h":!0}),h(e)!=="svelte-1wvdjor"&&(e.textContent=l)},m(s,t){f(s,e,t)},p:b,d(s){s&&c(e)}}}function j(p){let e;function l(n,a){return n[0]?O:P}let s=l(p),t=s(p);return{c(){t.c(),e=T()},l(n){t.l(n),e=T()},m(n,a){t.m(n,a),f(n,e,a)},p(n,[a]){s===(s=l(n))&&t?t.p(n,a):(t.d(1),t=s(n),t&&(t.c(),t.m(e.parentNode,e)))},i:b,o:b,d(n){n&&c(e),t.d(n)}}}function q(p,e,l){let s=!1,t=null;const n="http://localhost:8000/clients/auth/",a="d51cc776f479baabac0e7bfc7e974c55942ffbdc";v(()=>{l(0,s=window.Telegram&&window.Telegram.WebApp!==void 0),s?l(1,t=window.Telegram.WebApp):console.error("Telegram.WebApp not found. Make sure this script is running within a Telegram Mini App.")});async function u(){if(s&&a)try{if(!(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${a}`},body:JSON.stringify(t)})).ok)throw new Error("Network response was not ok");console.log("Data sent successfully!")}catch(i){console.error("Error sending data:",i)}else console.error("Either Telegram.WebApp is not available or API token is missing.")}return[s,t,u]}class U extends C{constructor(e){super(),x(this,e,q,j,A,{})}}export{U as component};
